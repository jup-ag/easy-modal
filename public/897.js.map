{"version":3,"file":"897.js","mappings":"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","sources":["webpack://@jup-ag/terminal/./node_modules/.pnpm/@reown+appkit-scaffold-ui@1.6.2_@react-native-async-storage+async-storage@1.19.3_react-native_32fconhuuxfr3nzfp5ml3j65by/node_modules/@reown/appkit-scaffold-ui/dist/esm/src/modal/w3m-modal/styles.js","webpack://@jup-ag/terminal/./node_modules/.pnpm/@reown+appkit-scaffold-ui@1.6.2_@react-native-async-storage+async-storage@1.19.3_react-native_32fconhuuxfr3nzfp5ml3j65by/node_modules/@reown/appkit-scaffold-ui/dist/esm/src/modal/w3m-modal/index.js"],"sourcesContent":["import { css } from 'lit';\nexport default css `\n  :host {\n    z-index: var(--w3m-z-index);\n    display: block;\n    backface-visibility: hidden;\n    will-change: opacity;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    opacity: 0;\n    background-color: var(--wui-cover);\n    transition: opacity 0.2s var(--wui-ease-out-power-2);\n    will-change: opacity;\n  }\n\n  :host(.open) {\n    opacity: 1;\n  }\n\n  :host(.embedded) {\n    position: relative;\n    pointer-events: unset;\n    background: none;\n    width: 100%;\n    opacity: 1;\n  }\n\n  wui-card {\n    max-width: var(--w3m-modal-width);\n    width: 100%;\n    position: relative;\n    animation: zoom-in 0.2s var(--wui-ease-out-power-2);\n    animation-fill-mode: backwards;\n    outline: none;\n    transition:\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius, background-color;\n  }\n\n  :host(.embedded) wui-card {\n    max-width: 400px;\n  }\n\n  wui-card[shake='true'] {\n    animation:\n      zoom-in 0.2s var(--wui-ease-out-power-2),\n      w3m-shake 0.5s var(--wui-ease-out-power-2);\n  }\n\n  wui-flex {\n    overflow-x: hidden;\n    overflow-y: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-height: 700px) and (min-width: 431px) {\n    wui-flex {\n      align-items: flex-start;\n    }\n\n    wui-card {\n      margin: var(--wui-spacing-xxl) 0px;\n    }\n  }\n\n  @media (max-width: 430px) {\n    wui-flex {\n      align-items: flex-end;\n    }\n\n    wui-card {\n      max-width: 100%;\n      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom: none;\n      animation: slide-in 0.2s var(--wui-ease-out-power-2);\n    }\n\n    wui-card[shake='true'] {\n      animation:\n        slide-in 0.2s var(--wui-ease-out-power-2),\n        w3m-shake 0.5s var(--wui-ease-out-power-2);\n    }\n  }\n\n  @keyframes zoom-in {\n    0% {\n      transform: scale(0.95) translateY(0);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes slide-in {\n    0% {\n      transform: scale(1) translateY(50px);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes w3m-shake {\n    0% {\n      transform: scale(1) rotate(0deg);\n    }\n    20% {\n      transform: scale(1) rotate(-1deg);\n    }\n    40% {\n      transform: scale(1) rotate(1.5deg);\n    }\n    60% {\n      transform: scale(1) rotate(-1.5deg);\n    }\n    80% {\n      transform: scale(1) rotate(1deg);\n    }\n    100% {\n      transform: scale(1) rotate(0deg);\n    }\n  }\n\n  @keyframes w3m-view-height {\n    from {\n      height: var(--prev-height);\n    }\n    to {\n      height: var(--new-height);\n    }\n  }\n`;\n//# sourceMappingURL=styles.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ApiController, ChainController, CoreHelperUtil, EventsController, ModalController, OptionsController, RouterController, SIWXUtil, SnackController, ThemeController } from '@reown/appkit-core';\nimport { UiHelperUtil, customElement, initializeTheming } from '@reown/appkit-ui';\nimport { LitElement, html } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport styles from './styles.js';\nimport {} from '@reown/appkit-common';\nconst SCROLL_LOCK = 'scroll-lock';\nlet W3mModal = class W3mModal extends LitElement {\n    constructor() {\n        super();\n        this.unsubscribe = [];\n        this.abortController = undefined;\n        this.enableEmbedded = OptionsController.state.enableEmbedded;\n        this.open = ModalController.state.open;\n        this.caipAddress = ChainController.state.activeCaipAddress;\n        this.caipNetwork = ChainController.state.activeCaipNetwork;\n        this.shake = ModalController.state.shake;\n        this.initializeTheming();\n        ApiController.prefetch();\n        this.unsubscribe.push(...[\n            ModalController.subscribeKey('open', val => (val ? this.onOpen() : this.onClose())),\n            ModalController.subscribeKey('shake', val => (this.shake = val)),\n            ChainController.subscribeKey('activeCaipNetwork', val => this.onNewNetwork(val)),\n            ChainController.subscribeKey('activeCaipAddress', val => this.onNewAddress(val))\n        ]);\n        EventsController.sendEvent({ type: 'track', event: 'MODAL_LOADED' });\n    }\n    firstUpdated() {\n        OptionsController.setEnableEmbedded(this.enableEmbedded);\n        if (this.caipAddress) {\n            if (this.enableEmbedded) {\n                ModalController.close();\n                return;\n            }\n            this.onNewAddress(this.caipAddress);\n        }\n    }\n    disconnectedCallback() {\n        this.unsubscribe.forEach(unsubscribe => unsubscribe());\n        this.onRemoveKeyboardListener();\n    }\n    render() {\n        this.style.cssText = `\n      --local-border-bottom-mobile-radius: ${this.enableEmbedded ? 'clamp(0px, var(--wui-border-radius-l), 44px)' : '0px'};\n    `;\n        if (this.enableEmbedded) {\n            return html `${this.contentTemplate()}\n        <w3m-tooltip></w3m-tooltip> `;\n        }\n        return this.open\n            ? html `\n          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid=\"w3m-modal-overlay\">\n            ${this.contentTemplate()}\n          </wui-flex>\n          <w3m-tooltip></w3m-tooltip>\n        `\n            : null;\n    }\n    contentTemplate() {\n        return html ` <wui-card\n      shake=\"${this.shake}\"\n      data-embedded=\"${ifDefined(this.enableEmbedded)}\"\n      role=\"alertdialog\"\n      aria-modal=\"true\"\n      tabindex=\"0\"\n      data-testid=\"w3m-modal-card\"\n    >\n      <w3m-header></w3m-header>\n      <w3m-router></w3m-router>\n      <w3m-snackbar></w3m-snackbar>\n      <w3m-alertbar></w3m-alertbar>\n    </wui-card>`;\n    }\n    async onOverlayClick(event) {\n        if (event.target === event.currentTarget) {\n            await this.handleClose();\n        }\n    }\n    async handleClose() {\n        const isUnsupportedChain = RouterController.state.view === 'UnsupportedChain';\n        if (isUnsupportedChain || (await SIWXUtil.isSIWXCloseDisabled())) {\n            ModalController.shake();\n        }\n        else {\n            ModalController.close();\n        }\n    }\n    initializeTheming() {\n        const { themeVariables, themeMode } = ThemeController.state;\n        const defaultThemeMode = UiHelperUtil.getColorTheme(themeMode);\n        initializeTheming(themeVariables, defaultThemeMode);\n    }\n    onClose() {\n        this.open = false;\n        this.classList.remove('open');\n        this.onScrollUnlock();\n        SnackController.hide();\n        this.onRemoveKeyboardListener();\n    }\n    onOpen() {\n        this.open = true;\n        this.classList.add('open');\n        this.onScrollLock();\n        this.onAddKeyboardListener();\n    }\n    onScrollLock() {\n        const styleTag = document.createElement('style');\n        styleTag.dataset['w3m'] = SCROLL_LOCK;\n        styleTag.textContent = `\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    `;\n        document.head.appendChild(styleTag);\n    }\n    onScrollUnlock() {\n        const styleTag = document.head.querySelector(`style[data-w3m=\"${SCROLL_LOCK}\"]`);\n        if (styleTag) {\n            styleTag.remove();\n        }\n    }\n    onAddKeyboardListener() {\n        this.abortController = new AbortController();\n        const card = this.shadowRoot?.querySelector('wui-card');\n        card?.focus();\n        window.addEventListener('keydown', event => {\n            if (event.key === 'Escape') {\n                this.handleClose();\n            }\n            else if (event.key === 'Tab') {\n                const { tagName } = event.target;\n                if (tagName && !tagName.includes('W3M-') && !tagName.includes('WUI-')) {\n                    card?.focus();\n                }\n            }\n        }, this.abortController);\n    }\n    onRemoveKeyboardListener() {\n        this.abortController?.abort();\n        this.abortController = undefined;\n    }\n    async onNewAddress(caipAddress) {\n        const nextConnected = CoreHelperUtil.getPlainAddress(caipAddress);\n        this.caipAddress = caipAddress;\n        await SIWXUtil.initializeIfEnabled();\n        if (!nextConnected || this.enableEmbedded) {\n            ModalController.close();\n        }\n    }\n    onNewNetwork(nextCaipNetwork) {\n        if (!this.caipAddress) {\n            this.caipNetwork = nextCaipNetwork;\n            RouterController.goBack();\n            return;\n        }\n        const prevCaipNetworkId = this.caipNetwork?.caipNetworkId?.toString();\n        const nextNetworkId = nextCaipNetwork?.caipNetworkId?.toString();\n        if (prevCaipNetworkId &&\n            nextNetworkId &&\n            prevCaipNetworkId !== nextNetworkId &&\n            this.caipNetwork?.name !== 'Unknown Network') {\n            RouterController.goBack();\n        }\n        this.caipNetwork = nextCaipNetwork;\n    }\n};\nW3mModal.styles = styles;\n__decorate([\n    property({ type: Boolean })\n], W3mModal.prototype, \"enableEmbedded\", void 0);\n__decorate([\n    state()\n], W3mModal.prototype, \"open\", void 0);\n__decorate([\n    state()\n], W3mModal.prototype, \"caipAddress\", void 0);\n__decorate([\n    state()\n], W3mModal.prototype, \"caipNetwork\", void 0);\n__decorate([\n    state()\n], W3mModal.prototype, \"shake\", void 0);\nW3mModal = __decorate([\n    customElement('w3m-modal')\n], W3mModal);\nexport { W3mModal };\n//# sourceMappingURL=index.js.map"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","SCROLL_LOCK","W3mModal","constructor","super","this","unsubscribe","abortController","undefined","enableEmbedded","state","open","caipAddress","activeCaipAddress","caipNetwork","activeCaipNetwork","shake","initializeTheming","prefetch","push","subscribeKey","val","onOpen","onClose","onNewNetwork","onNewAddress","sendEvent","type","event","firstUpdated","setEnableEmbedded","close","disconnectedCallback","forEach","onRemoveKeyboardListener","render","style","cssText","contentTemplate","onOverlayClick","bind","currentTarget","handleClose","view","isSIWXCloseDisabled","themeVariables","themeMode","defaultThemeMode","UiHelperUtil","getColorTheme","classList","remove","onScrollUnlock","hide","add","onScrollLock","onAddKeyboardListener","styleTag","document","createElement","dataset","textContent","head","appendChild","querySelector","AbortController","card","shadowRoot","focus","window","addEventListener","tagName","includes","abort","nextConnected","getPlainAddress","initializeIfEnabled","nextCaipNetwork","goBack","prevCaipNetworkId","caipNetworkId","toString","nextNetworkId","name","styles","Boolean","prototype","customElement"],"sourceRoot":""}